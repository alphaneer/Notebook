# 什么是负二项分布

**伯努利试验**: 对于n次独立的试验，如果每次试验结果且只出现事件A与事件A的对立事件$\bar{A}$之一；在每次试验中，出现事件A的概率是常数p(0<p<1),出现事件A的对立事件$\bar{A}$的概率是 1-p = q, 则称这一串重复的独立试验为n重伯努利试验，简称伯努利试验(Bernoulli trial)

$$
P_{n}(k) = C_n^kp^kq^{n-k} (k=0,1,2,3,..,n)
$$

**二项分布**: 若随机变量$x$的所有可能的取值为零和正整数:0, 1, 2,..., n,且

$$
P(x=k) = P_{n}(k)= C_n^kp^kq^{n-k} (k=0,1,2,3,..,n)
$$

其中, $p>0, q>0, p + q =1$， 则称随机变量$x$服从参数为$n$和$p$的二项分布。

**泊松分布**: 描述的已知给定区间内事件发生的数目，在该区间内事件发生的概率是一个常数，与上一个事件发生的事件和空间无关。

$$
P(X=k) = \frac{\lambda^ke^{-\lambda}}{k!}
$$

均值和方差都是$\lambda$

**负二项分布**: 假设现在有一组独立的伯努利试验，每个伯努利试验都有两个可能结果，成功和失败，假设成功的概率为p，则失败的概率为(1-p)。 我们观察这一组伯努利试验，直到预期的r次失败发生为止，在这期间观察到的成功数为X，这个X服从的就是负二项分布。记为$X \sim NB(r;p)$

$$
f(k;r,p) \equiv P(X=k) = C_{k+r-1}^kp^k(1-p)^r (k=0,1,2,3..n)
$$

这里k为成功的试验数，r为失败的试验数，p则是成功的概率。

如果系数做一个转换，就类似于以个二项分布，只不过多了几个负号，也就是负二项的由来。

$$
C_{k+r-1}^k = \frac{(k+r-1)(k+r-2)..(r)}{k!} = (-1)^kC_{-r}^k
$$

负二项分布的均值为$\frac{pr}{1-p}$, 方差为$\frac{pr}{(1-p)^2}$. 在负二项分布回归中，